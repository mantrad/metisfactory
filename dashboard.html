<!DOCTYPE html>
<!-- saved from url=(0029)https://Metis Factory.com/staking -->
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="icon" href="https://metisfactory.finance/logo.png" />
		<link rel="icon" href="logo.png" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <meta name="theme-color" content="#121212" />
        <meta name="description" content="Our advisors will bootstrap the investments in our initial phase. We invest on multiple chains and return the profits to $Factory holders." />
        <meta name="robots" content="index, follow" />
        <meta name="keywords" content="$Factory, crypto, cryptocurrency, defi, decentralized finance, trading, exchange, Metis, blockchain, staking, yield farming" />
        <link rel="canonical" href="https://metisfactory.finance/" />
        <link rel="apple-touch-icon" href="https://metisfactory.finance/logo.png" />


		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <link href="./assets/main.37ff1933.chunk.css" rel="stylesheet" />
        <title>Dashboard - Metis Factory</title>
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:site" content="@MetisFactory" />
        <meta property="twitter:creator" content="@MetisFactory" />
        <meta property="twitter:title" content="Our advisors will bootstrap the investments in our initial phase. We invest on multiple chains and return the profits to $Factory holders." />
        <meta
            property="twitter:description"
            content="Our advisors will bootstrap the investments in our initial phase. We invest on multiple chains and return the profits to $Factory holders."
        />
        <meta property="twitter:image" content="https://metisfactory.finance/banner.png" />
        <meta property="og:image" content="https://metisfactory.finance/banner.png" />
        <meta property="og:image:type" content="image/png" />
        <meta property="og:image:width" content="300" />
        <meta property="og:image:height" content="300" />
        <meta property="og:image:alt" content="" />
        <meta
            property="og:description"
            content="Our advisors will bootstrap the investments in our initial phase. We invest on multiple chains and return the profits to $Factory holders."
        />
    </head>
    <body class="BLACK">
        <noscript>You need to enable JavaScript to run this app.</noscript>
        <div id="root">
            <div class="header">
                <div class="header--body clearfix">
                    <a href="https://metisfactory.finance/">
                        <div class="header--logo"><img class="vertical-centered" src="./assets/logo.png" /><span>Metis Factory</span></div>
                    </a>
                    <div class="header--links">
                       
                        <div class="header--links--item">
                            <a href="/"><button class="header--link-button">Home</button></a>
                            <div class="header--sub-links hidden"></div>
                        </div>
                          <div class="header--links--item">
                            <a href="#Community"><button class="header--link-button">Community</button></a>
                            <div class="header--sub-links hidden"></div>
                        </div>
                        <div class="header--links--item">
                            <a href="#" target="_blank"><button class="header--link-button" >Chart</button></a>
                            <div class="header--sub-links hidden"></div>
                        </div>
                        <div class="header--links--item">
                            <a target="_blank" href="#"><button class="header--link-button">Litepaper</button></a>
                            <div class="header--sub-links hidden"></div>
                        </div>		
						<div class="header--links--item">
                            <a target="_blank" href="#"><button class="header--link-button">Buy Now</button></a>
                            <div class="header--sub-links hidden"></div>
                        </div>		
                    </div>
                    <div class="header--mobile-header">
                        <button class="header--mobile-header--toggle-button" onclick="showMenu()">
                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                <path fill="none" d="M0 0h24v24H0z"></path>
                                <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path>
                            </svg>
                        </button>
												<div class="header--mobile-header--menu">
    <div id="menuMobile" class="header--mobile-header--menu--main">
         <a href="/"><button class="header--link-button">Home</button></a>
		<a href="#Community"><button class="header--link-button">Community</button></a>
		 <a href="#" target="_blank"><button class="header--link-button" >Chart</button></a>
		        <a target="_blank" href="#"><button class="header--link-button">Litepaper</button></a>
		
    </div>

<div class="header--mobile-header--wallet-provider clearfix"><div class="wallet-provider"><button id="enableMetamaskMobile" class="wallet-provider--connect-button button-style-6">Connect Wallet</button></div></div>
</div>
                    </div>
                    <div class="header--wallet-provider">
                        <div class="wallet-provider">
                            <img id="metamask" style="display:none" class="wallet-provider--icon META_MASK"  src="./assets/metamask-color.4368e45a.svg" /><button id="enableMetamask" class="wallet-provider--connect-button button-style-6">Connect Wallet</button>
                            <div class="wallet-provider--transactions">
                                <div style="display:none" class="wallet-transactions">
                                    <button class="wallet-transactions--trigger-button"><img src="./assets/transaction.0ed9d809.svg" /></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="staking-page page">
                <div class="page--body">
                    <div class="page--main">
                        <div class="staking-page--title">Dashboard</div>
                        <div class="staking-page--overview">
                            <div class="staking-overview clearfix">
                                <div class="staking-overview--block">
                                    <div class="staking-overview--block--title clearfix">Your balance</div>
                                    <div class="staking-overview--block--main clearfix">
                                        <div class="staking-overview--block--left">
                                            <img
                                                src="./assets/token.png "
                                            />
                                            <label id="balance">---</label>
                                        </div>
                                    </div>
                                    <div class="staking-overview--block--footer" id="balanceToken">Balance: ---<span><span></div>
                                </div>
                                <div class="staking-overview--block">
                                    <div class="staking-overview--block--title clearfix">Total rewards</div>
                                    <div class="staking-overview--block--main clearfix">
                                        <div class="staking-overview--block--left"><img src="./assets/MetisCoin.svg" /><label  id="rewards">---</label></div>
										<div class="staking-overview--block--right"><button class="button-style-7" id="harvest" >Connect Wallet</button></div>
                                        
                                    </div>
                                  
                                </div>
                                <div class="staking-overview--block">
                                    <div class="staking-overview--block--title clearfix">
                                        Metis balance
                                        <span class="info-popup--trigger">
                                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"
                                                ></path>
                                            </svg>
                                        </span>
                                    </div>
                                    <div class="staking-overview--block--main clearfix">
                                        <div class="staking-overview--block--left">
                                            <img
                                                src="./assets/MetisCoin.svg"
                                            />
                                            <label id="METIS_balance">---</label>
                                        </div>
                                    </div>
                                    <div id="usd_balance" class="staking-overview--block--footer"></div>
                                </div>
                            </div>
                        </div>
						
						<div class="staking-page--details clearfix">

</div>
                        <div class="staking-page--external-links">
                            <div class="staking-page--sub-title">More</div>
                            <div class="staking-page--external-links--main">
                                <div class="external-link-block">
                                    <div class="external-link-block--main clearfix">
                                        <div class="external-link-block--coins"><img src="./assets/token.png " /></div>
                                        <div class="external-link-block--content"><label class="has-description">Need more $Factory?</label><span>Buy on Tethys</span></div>
                                    </div>
                                    <div class="external-link-block--action">
                                
                                        <a target="_blank" href="#">
                                            <button class="button-style-5"><img src="./assets/tethys.svg"  style="width: 20px;margin-right: 5px;vertical-align: middle;transform: translateY(-1px);" /> Tethys</button>
                                        </a>
                                    </div>
                                </div>
                                <div class="external-link-block">
                                    <div class="external-link-block--main clearfix">
                                        <div class="external-link-block--coins"><img src="./assets/token.png" /><img src="./assets/MetisCoin.svg" /></div>
                                        <div class="external-link-block--content"><label class="has-description">$Factory-METIS-LP</label><span>Earn by providing liquidity</span></div>
                                    </div>
                                    <div class="external-link-block--action">
                                        <a target="_blank" href="#">
                                            <button class="button-style-5">Create LP on <img src="./assets/tethys.svg" style="width: 20px;margin-right: 5px;vertical-align: middle;transform: translateY(-1px);"  /> Tethys</button>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
						                <div class="social-networks clearfix" id="Community">
                    <div class="social-networks--list clearfix">
                        <div class="social-networks--block">
                            <label>Get latest updates</label>
                            <div class="social-networks--block--component">
                                <a class="social-networks--link" target="_blank" rel="noreferrer nofollow" href="https://twitter.com/MetisFactory_C" target="_blank"><img src="./assets/twitter.61e81bce.svg" />Twitter</a>
                                <a class="social-networks--link" target="_blank" rel="noreferrer nofollow" href="https://MetisFactorycapital.medium.com/" target="_blank"><img src="./assets/medium.2c4f4dab.svg" />Medium</a>
                                <a class="social-networks--link" target="_blank" rel="noreferrer nofollow" href="https://github.com/MetisFactorycapital/" target="_blank"><img src="./assets/github.8bce972e.svg" />Github</a>
                            </div>
                        </div>
                        <div class="social-networks--block">
                            <label>Get community support</label>
                            <div class="social-networks--block--component">
                                <a class="social-networks--link" target="_blank" rel="noreferrer nofollow" href="https://discord.gg/" target="_blank"><img src="./assets/discord.98df18c3.svg" />Discord</a>
                                <a class="social-networks--link" target="_blank" rel="noreferrer nofollow" href="https://t.me/FactoryOfficial" target="_blank"><img src="./assets/telegram.2314e974.svg" />Telegram</a>
                            </div>
                        </div>
			
						

                    </div>
                </div>
                    </div>
                </div>

            </div>
            <div class="theme hidden"><button class="theme--button WHITE"></button><button class="theme--button BLACK selected"></button></div>
        </div>
		
		
<script>
    
        let currentAccount = null;
        let web3;
        let abi;
        let contactAddress = '0x2f02be0c4021022b59e9436f335d69df95e5222a'
		let totalreward = null;
        
        function handleAccountsChanged(accounts) {
            console.log('Calling HandleChanged')
            
            if (accounts.length === 0) {
                console.log('Please connect to MetaMask.');
				
					$('#harvest').html("Connect Wallet");
					$('#harvest1').html("Connect Wallet");
					$('#metamask').css("display", "none");
					$('#enableMetamask').removeClass("wallet-provider--account-address");
					$('#enableMetamask').addClass("wallet-provider--connect-button button-style-6");
                $('#enableMetamask').html('Connect Wallet')
				$('#enableMetamaskMobile').html('Connect Wallet')
            } else if (accounts[0] !== currentAccount) {
			console.log(accounts[0]);
					currentAccount = accounts[0];
					$('.wallet-transactions').css("display", "block");
					$('#metamask').css("display", "block");
					$('#harvest').html("Claim");
					$('#enableMetamask').removeClass("wallet-provider--connect-button button-style-6")
					$('#enableMetamask').addClass("wallet-provider--account-address")
					var first = currentAccount.slice(0, 6);
					var second = currentAccount.slice(currentAccount.length - 4, currentAccount.length);
					$('#enableMetamaskMobile').html(first+"..."+second)
                    $('#enableMetamask').html(first+"..."+second)
					$('#status').html('');
					 getValue();
                if(currentAccount != null) {
				 console.log(accounts[0]);
                    // Set the button label
					$('.wallet-transactions').css("display", "block");
					$('#metamask').css("display", "block");
					var first = currentAccount.slice(0, 6);
					var second = currentAccount.slice(currentAccount.length - 4, currentAccount.length);
					$('#harvest').html("Claim");
					$('#harvest1').html("Claim");
					$('#enableMetamask').removeClass("wallet-provider--connect-button button-style-6")
					$('#enableMetamask').addClass("wallet-provider--account-address")
					$('#enableMetamaskMobile').html(first+"..."+second)
                    $('#enableMetamask').html(first+"..."+second);
					getValue();
                }
            }
            console.log('WalletAddress in HandleAccountChanged ='+currentAccount)
        }

        function connect() {
            console.log('Calling connect()')
            window.ethereum.request({ method: 'eth_requestAccounts' })
            .then(handleAccountsChanged)
            .catch((err) => {
            if (err.code === 4001) {
                // EIP-1193 userRejectedRequest error
                // If this happens, the user rejected the connection request.
                console.log('Please connect to MetaMask.');
                $('#status').html('You refused to connect Metamask')
            } else {
                console.error(err);
            }
            });
        }

        function detectMetaMask() {
            if (typeof window.ethereum !== 'undefined') {                
                return true
            } else {                
                return false
            }
        }

        async function getValue() {
            console.log('GetValue')
			const rate = await $.getJSON("https://api.coingecko.com/api/v3/simple/price?ids=Metis&vs_currencies=usd");
			console.log(rate.metis.usd);
		const web3 =  new Web3( Web3.givenProvider || "https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"); 
			web3.eth.getBalance(currentAccount).then(function(METISBlance){
			
			
			$('#METIS_balance').html((METISBlance/1e18).toFixed(2));
			$('#METIS_balance1').html((METISBlance/1e18).toFixed(2));
			$('#usd_balance').html(((METISBlance/1e18).toFixed(2)*rate.metis.usd).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",")+" USD");
			$('#usd_balance1').html(((METISBlance/1e18).toFixed(2)*rate.metis.usd).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",")+" USD");
			
			});
			
			$.getJSON("./assets/contract.json", function(result) {
            const contract = new web3.eth.Contract(
                        result,
                        contactAddress
            );    

			contract.methods.balanceOf(currentAccount).call({from: currentAccount}, function(error, result){
			$('#balance').html((result/1e9).toFixed(2));
			
			});
			contract.methods.getAccountDividendsInfo(currentAccount).call({from: currentAccount}, function(error, result){
			console.log(result);
			totalreward = (result[1]/1e18).toFixed(6);
			$('#rewards').html((result[1]/1e18).toFixed(6));
			$('#rewards1').html((result[1]/1e18).toFixed(6));
			$('#totalMETISclaimed').html((result[2]/1e18).toFixed(6));
			$('#balanceToken').html("Total Claimed: "+(result[2]/1e18).toFixed(6) +" METIS")
			$('#nextime').html(((result[1]/1e18)*rate.metis.usd).toFixed(4) +" USD");
			});
		});


            
        }

        async function setValue() {
			const web3 =  new Web3( Web3.givenProvider || "https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"); 
			const tokenABI = await $.getJSON("./assets/contract.json");
			const accounts = await web3.eth.getAccounts();
			  if (!accounts[0]) {
				  await  window.ethereum.request({ mMETISod: 'METIS_requestAccounts' })
				} 
            const contract = await new web3.eth.Contract(
                        tokenABI,
                        contactAddress
            );    
			console.log(accounts)
			await contract.methods.claim().send({from: accounts[0]});


        }
    </script>
    <script>   
        $.getJSON("./assets/contract.json", function(result) {  
                abi = result.abi                
            });
             
        $( document ).ready(function() {
            m = detectMetaMask()
            if(m) {
                connect()  //Make sure the connected wallet is being returned
            } else {
            }

            $('#enableMetamask').click(function() {
			onConnect()
            });
            $('#enableMetamaskMobile').click(function() {
                onConnect()
            });

            $('#harvest').click(function() {
                setValue()
            });
            
            $('#harvest1').click(function() {
                setValue()
            });
            try {           
                web3 =  new Web3("https://andromeda.metis.io/?owner=1088"); 
				console.log(web3);
            } catch (error) {
                alert(error)
            }            
            
            //Fetch Value from Smart Contract
            getValue();
			setInterval(function(){ getValue()}, 5000);
        })
    </script>  
	<script>
	$(".header--mobile-header--menu").hide();
		function showMenu(){
		$(".header--mobile-header--menu").toggle();
		}
		

	</script>


	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script type="text/javascript" src="https://unpkg.com/web3@1.2.11/dist/web3.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/web3modal@1.9.0/dist/index.js"></script>
    <script type="text/javascript" src="https://unpkg.com/evm-chains@0.2.0/dist/umd/index.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/@walletconnect/web3-provider@1.2.1/dist/umd/index.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/fortmatic@2.0.6/dist/fortmatic.js"></script>
				
    </body>
</html>
